---
title: Dados hierárquicos para padrão de análise usando Azure e Azure Stack Hub
description: Aprenda a usar o Azure e o Azure Stack Hub para implementar uma solução de dados hierárquica através da nuvem híbrida.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: b671fa9f47fa51ab6e40633c04964957d613fec2
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 06/17/2020
ms.locfileid: "84911248"
---
# <a name="tiered-data-for-analytics-pattern"></a><span data-ttu-id="032cf-103">Dados hierárquicos para padrão de análise</span><span class="sxs-lookup"><span data-stu-id="032cf-103">Tiered data for analytics pattern</span></span>

<span data-ttu-id="032cf-104">Este padrão ilustra como usar o Azure Stack Hub e o Azure para encenar, analisar, processar, higienizar e armazenar dados em vários locais no local e em nuvem.</span><span class="sxs-lookup"><span data-stu-id="032cf-104">This pattern illustrates how to use Azure Stack Hub and Azure to stage, analyze, process, sanitize, and store data across multiple on-premises and cloud locations.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="032cf-105">Contexto e problema</span><span class="sxs-lookup"><span data-stu-id="032cf-105">Context and problem</span></span>

<span data-ttu-id="032cf-106">Um dos problemas que as organizações empresariais enfrentam no panorama tecnológico moderno diz respeito à segurança do armazenamento, processamento e análise de dados.</span><span class="sxs-lookup"><span data-stu-id="032cf-106">One of the problems facing enterprise organizations in the modern technology landscape concerns secure data storage, processing, and analyzing.</span></span> <span data-ttu-id="032cf-107">Considerações incluem:</span><span class="sxs-lookup"><span data-stu-id="032cf-107">Considerations include:</span></span>

- <span data-ttu-id="032cf-108">conteúdo de dados</span><span class="sxs-lookup"><span data-stu-id="032cf-108">data content</span></span>
- <span data-ttu-id="032cf-109">localização</span><span class="sxs-lookup"><span data-stu-id="032cf-109">location</span></span>
- <span data-ttu-id="032cf-110">requisitos de segurança e privacidade</span><span class="sxs-lookup"><span data-stu-id="032cf-110">security and privacy requirements</span></span>
- <span data-ttu-id="032cf-111">permissões de acesso</span><span class="sxs-lookup"><span data-stu-id="032cf-111">access permissions</span></span>
- <span data-ttu-id="032cf-112">manutenção</span><span class="sxs-lookup"><span data-stu-id="032cf-112">maintenance</span></span>
- <span data-ttu-id="032cf-113">armazenamento de armazenamento</span><span class="sxs-lookup"><span data-stu-id="032cf-113">storage warehousing</span></span>

<span data-ttu-id="032cf-114">O Azure, em combinação com o Azure Stack Hub, aborda as preocupações dos dados e oferece soluções de baixo custo.</span><span class="sxs-lookup"><span data-stu-id="032cf-114">Azure, in combination with Azure Stack Hub, addresses data concerns and offers low-cost solutions.</span></span> <span data-ttu-id="032cf-115">Esta solução é melhor expressa através de uma empresa de fabrico ou logística distribuída.</span><span class="sxs-lookup"><span data-stu-id="032cf-115">This solution is best expressed through a distributed manufacturing or logistics company.</span></span>

<span data-ttu-id="032cf-116">A solução baseia-se no seguinte cenário:</span><span class="sxs-lookup"><span data-stu-id="032cf-116">The solution is based on the following scenario:</span></span>

- <span data-ttu-id="032cf-117">Uma grande organização de fabrico de vários ramos.</span><span class="sxs-lookup"><span data-stu-id="032cf-117">A large multi-branch manufacturing organization.</span></span>
- <span data-ttu-id="032cf-118">É necessário armazenamento, processamento e distribuição de dados rápidos e seguros entre as localizações remotas globais e a sua sede central.</span><span class="sxs-lookup"><span data-stu-id="032cf-118">Rapid and secure data storage, processing, and distribution between global remote locations and its central headquarters are required.</span></span>
- <span data-ttu-id="032cf-119">Atividade de funcionários e máquinas, informações de instalações e dados de reporte de negócios que devem permanecer seguros.</span><span class="sxs-lookup"><span data-stu-id="032cf-119">Employee and machinery activity, facility information, and business reporting data that must remain secure.</span></span> <span data-ttu-id="032cf-120">Os dados devem ser distribuídos adequadamente e cumprir a política regional de conformidade e os regulamentos do sector.</span><span class="sxs-lookup"><span data-stu-id="032cf-120">The data must be distributed appropriately and meet regional compliance policy and industry regulations.</span></span>

## <a name="solution"></a><span data-ttu-id="032cf-121">Solução</span><span class="sxs-lookup"><span data-stu-id="032cf-121">Solution</span></span>

<span data-ttu-id="032cf-122">A utilização tanto no local como nos ambientes de nuvem pública satisfaz as exigências das empresas multi-instalações.</span><span class="sxs-lookup"><span data-stu-id="032cf-122">Using both on-premises and public cloud environments meets the demands of multi-facility enterprises.</span></span> <span data-ttu-id="032cf-123">O Azure Stack Hub oferece uma solução rápida, segura e flexível para recolher, processar, armazenar e distribuir dados locais e remotos.</span><span class="sxs-lookup"><span data-stu-id="032cf-123">Azure Stack Hub offers a rapid, secure, and flexible solution for collecting, processing, storing, and distributing local and remote data.</span></span> <span data-ttu-id="032cf-124">Este padrão é especialmente útil quando a segurança, confidencialidade, política corporativa e requisitos regulamentares podem diferir entre locais e utilizadores.</span><span class="sxs-lookup"><span data-stu-id="032cf-124">This pattern is especially useful when security, confidentiality, corporate policy, and regulatory requirements may differ between locations and users.</span></span>

![Padrão de dados tiered para arquitetura de solução de analítica](media/pattern-tiered-data-analytics/solution-architecture.png)

## <a name="components"></a><span data-ttu-id="032cf-126">Componentes</span><span class="sxs-lookup"><span data-stu-id="032cf-126">Components</span></span>

<span data-ttu-id="032cf-127">Este padrão utiliza os seguintes componentes:</span><span class="sxs-lookup"><span data-stu-id="032cf-127">This pattern uses the following components:</span></span>

| <span data-ttu-id="032cf-128">Camada</span><span class="sxs-lookup"><span data-stu-id="032cf-128">Layer</span></span> | <span data-ttu-id="032cf-129">Componente</span><span class="sxs-lookup"><span data-stu-id="032cf-129">Component</span></span> | <span data-ttu-id="032cf-130">Description</span><span class="sxs-lookup"><span data-stu-id="032cf-130">Description</span></span> |
|----------|-----------|-------------|
| <span data-ttu-id="032cf-131">Azure</span><span class="sxs-lookup"><span data-stu-id="032cf-131">Azure</span></span> | <span data-ttu-id="032cf-132">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="032cf-132">Storage</span></span> | <span data-ttu-id="032cf-133">Uma conta [de Armazenamento Azure](/azure/storage/) fornece um ponto final de consumo de dados estéril.</span><span class="sxs-lookup"><span data-stu-id="032cf-133">An [Azure Storage](/azure/storage/) account provides a sterile data consumption endpoint.</span></span> <span data-ttu-id="032cf-134">O Armazenamento do Azure é a solução de armazenamento da cloud da Microsoft para cenários de armazenamento de dados modernos.</span><span class="sxs-lookup"><span data-stu-id="032cf-134">Azure Storage is Microsoft's cloud storage solution for modern data storage scenarios.</span></span> <span data-ttu-id="032cf-135">O Azure Storage oferece uma loja de objetos massivamente escalável para objetos de dados e um serviço de sistema de ficheiros para a nuvem.</span><span class="sxs-lookup"><span data-stu-id="032cf-135">Azure Storage offers a massively scalable object store for data objects and a file system service for the cloud.</span></span> <span data-ttu-id="032cf-136">Também fornece uma loja de mensagens para mensagens confiáveis e uma loja NoSQL.</span><span class="sxs-lookup"><span data-stu-id="032cf-136">It also provides a messaging store for reliable messaging and a NoSQL store.</span></span> |
| <span data-ttu-id="032cf-137">Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="032cf-137">Azure Stack Hub</span></span> | <span data-ttu-id="032cf-138">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="032cf-138">Storage</span></span> | <span data-ttu-id="032cf-139">Uma conta [de armazenamento Azure Stack Hub](/azure-stack/user/azure-stack-storage-overview) é usada para vários serviços:</span><span class="sxs-lookup"><span data-stu-id="032cf-139">An [Azure Stack Hub Storage](/azure-stack/user/azure-stack-storage-overview) account is used for multiple services:</span></span><br><br><span data-ttu-id="032cf-140">- **Armazenamento de bolhas** para armazenamento de dados brutos.</span><span class="sxs-lookup"><span data-stu-id="032cf-140">- **Blob storage** for raw data storage.</span></span> <span data-ttu-id="032cf-141">O armazenamento de blob pode conter qualquer tipo de texto ou dados binários, tais como um documento, ficheiro de mídia ou instalador de aplicações.</span><span class="sxs-lookup"><span data-stu-id="032cf-141">Blob storage can hold any type of text or binary data, such as a document, media file, or app installer.</span></span> <span data-ttu-id="032cf-142">Cada bolha é organizada debaixo de um contentor.</span><span class="sxs-lookup"><span data-stu-id="032cf-142">Every blob is organized under a container.</span></span> <span data-ttu-id="032cf-143">Os contentores fornecem uma forma útil de atribuir políticas de segurança a grupos de objetos.</span><span class="sxs-lookup"><span data-stu-id="032cf-143">Containers provide a useful way to assign security policies to groups of objects.</span></span> <span data-ttu-id="032cf-144">Uma conta de armazenamento pode conter qualquer número de contentores, e um recipiente pode conter qualquer número de bolhas, até ao limite de capacidade de 500 TB da conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="032cf-144">A storage account may contain any number of containers, and a container can contain any number of blobs, up to the 500-TB capacity limit of the storage account.</span></span><br><span data-ttu-id="032cf-145">- **Armazenamento de bolhas** para arquivo de dados.</span><span class="sxs-lookup"><span data-stu-id="032cf-145">- **Blob storage** for data archive.</span></span> <span data-ttu-id="032cf-146">Existem benefícios para o armazenamento de baixo custo para arquivar dados frescos.</span><span class="sxs-lookup"><span data-stu-id="032cf-146">There are benefits to low-cost storage for cool data archiving.</span></span> <span data-ttu-id="032cf-147">Exemplos de dados legais incluem backups, conteúdo sonoro, dados científicos, conformidade e dados de arquivo.</span><span class="sxs-lookup"><span data-stu-id="032cf-147">Examples of cool data include backups, media content, scientific data, compliance, and archival data.</span></span> <span data-ttu-id="032cf-148">Em geral, todos os dados acedidos com pouca frequência são considerados armazenamento fresco.</span><span class="sxs-lookup"><span data-stu-id="032cf-148">In general, any data that's accessed infrequently is considered cool storage.</span></span> <span data-ttu-id="032cf-149">Dados de tiering com base em atributos como frequência de acesso e período de retenção.</span><span class="sxs-lookup"><span data-stu-id="032cf-149">Tiering data based on attributes like frequency of access and retention period.</span></span> <span data-ttu-id="032cf-150">Os dados do cliente são pouco frequentemente acedidos, mas requerem latência e desempenho semelhantes aos dados quentes.</span><span class="sxs-lookup"><span data-stu-id="032cf-150">Customer data is infrequently accessed but requires similar latency and performance to hot data.</span></span><br><span data-ttu-id="032cf-151">- **Armazenamento de fila** para armazenamento de dados processados.</span><span class="sxs-lookup"><span data-stu-id="032cf-151">- **Queue storage** for processed data storage.</span></span> <span data-ttu-id="032cf-152">O armazenamento de filas fornece mensagens em nuvem entre componentes de aplicações.</span><span class="sxs-lookup"><span data-stu-id="032cf-152">Queue storage provides cloud messaging between app components.</span></span> <span data-ttu-id="032cf-153">Na conceção de apps para escala, os componentes de aplicações são muitas vezes dissociados para que possam escalar de forma independente.</span><span class="sxs-lookup"><span data-stu-id="032cf-153">In designing apps for scale, app components are often decoupled so they can scale independently.</span></span> <span data-ttu-id="032cf-154">O armazenamento de filas fornece mensagens assíncronos para comunicação entre componentes de aplicações, quer estejam a correr na nuvem, no ambiente de trabalho, num servidor no local ou num dispositivo móvel.</span><span class="sxs-lookup"><span data-stu-id="032cf-154">Queue storage delivers asynchronous messaging for communication between app components, whether they're running in the cloud, on the desktop, an on-premises server, or a mobile device.</span></span> <span data-ttu-id="032cf-155">O Armazenamento de filas também suporta a gestão das tarefas assíncronas e a criação de fluxos de trabalho do processo.</span><span class="sxs-lookup"><span data-stu-id="032cf-155">Queue storage also supports managing asynchronous tasks and building process work flows.</span></span> |
| | <span data-ttu-id="032cf-156">Funções do Azure</span><span class="sxs-lookup"><span data-stu-id="032cf-156">Azure Functions</span></span> | <span data-ttu-id="032cf-157">O serviço [Azure Functions](/azure/azure-functions/) é fornecido pelo [Serviço de Aplicações Azure no](/azure-stack/operator/azure-stack-app-service-overview) fornecedor de recursos Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="032cf-157">The [Azure Functions](/azure/azure-functions/) service is provided by the [Azure App Service on Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview) resource provider.</span></span> <span data-ttu-id="032cf-158">As Funções Azure permitem executar o seu código num ambiente simples e sem servidor em resposta a uma variedade de eventos.</span><span class="sxs-lookup"><span data-stu-id="032cf-158">Azure Functions lets you execute your code in a simple, serverless environment in response to a variety of events.</span></span> <span data-ttu-id="032cf-159">Azure Functions escala para satisfazer a procura sem ter que criar um VM ou publicar uma aplicação web, usando a linguagem de programação à sua escolha.</span><span class="sxs-lookup"><span data-stu-id="032cf-159">Azure Functions scale to meet demand without having to create a VM or publish a web app, using the programming language of your choice.</span></span> <span data-ttu-id="032cf-160">As funções são utilizadas pela solução para:</span><span class="sxs-lookup"><span data-stu-id="032cf-160">Functions are used by the solution for:</span></span><br><br><span data-ttu-id="032cf-161">- **Ingestão de dados**</span><span class="sxs-lookup"><span data-stu-id="032cf-161">- **Data intake**</span></span><br><span data-ttu-id="032cf-162">- **Esterilização de dados.**</span><span class="sxs-lookup"><span data-stu-id="032cf-162">- **Data sterilization.**</span></span> <span data-ttu-id="032cf-163">As funções ativadas manualmente podem executar o processamento, limpeza e arquivamento de dados programados.</span><span class="sxs-lookup"><span data-stu-id="032cf-163">Manually triggered functions can perform scheduled data processing, clean up, and archiving.</span></span> <span data-ttu-id="032cf-164">Exemplos podem incluir esfoliações de listas de clientes noturnos e processamento mensal de relatórios.</span><span class="sxs-lookup"><span data-stu-id="032cf-164">Examples may include nightly customer list scrubs and monthly report processing.</span></span>|

## <a name="issues-and-considerations"></a><span data-ttu-id="032cf-165">Problemas e considerações</span><span class="sxs-lookup"><span data-stu-id="032cf-165">Issues and considerations</span></span>

<span data-ttu-id="032cf-166">Considere os seguintes pontos ao decidir como implementar esta solução:</span><span class="sxs-lookup"><span data-stu-id="032cf-166">Consider the following points when deciding how to implement this solution:</span></span>

### <a name="scalability"></a><span data-ttu-id="032cf-167">Escalabilidade</span><span class="sxs-lookup"><span data-stu-id="032cf-167">Scalability</span></span>

<span data-ttu-id="032cf-168">A gama de funções e soluções de armazenamento Azure para atender às exigências de volume de dados e processamento.</span><span class="sxs-lookup"><span data-stu-id="032cf-168">Azure Functions and storage solutions scale to meet data volume and processing demands.</span></span> <span data-ttu-id="032cf-169">Para obter informações e metas de escalabilidade Azure, consulte [a documentação de escalabilidade do armazenamento Azure](/azure/storage/common/storage-scalability-targets).</span><span class="sxs-lookup"><span data-stu-id="032cf-169">For Azure scalability information and targets, see [Azure Storage scalability documentation](/azure/storage/common/storage-scalability-targets).</span></span>

### <a name="availability"></a><span data-ttu-id="032cf-170">Disponibilidade</span><span class="sxs-lookup"><span data-stu-id="032cf-170">Availability</span></span>

<span data-ttu-id="032cf-171">O armazenamento é a principal consideração de disponibilidade para este padrão.</span><span class="sxs-lookup"><span data-stu-id="032cf-171">Storage is the primary availability consideration for this pattern.</span></span> <span data-ttu-id="032cf-172">A ligação através de ligações rápidas é necessária para o processamento e distribuição de grandes volumes de dados.</span><span class="sxs-lookup"><span data-stu-id="032cf-172">Connection via fast links is required for large data volume processing and distribution.</span></span>

### <a name="manageability"></a><span data-ttu-id="032cf-173">Capacidade de gestão</span><span class="sxs-lookup"><span data-stu-id="032cf-173">Manageability</span></span>

<span data-ttu-id="032cf-174">A gestão desta solução depende da autoria de ferramentas de utilização e envolvimento do controlo de origem.</span><span class="sxs-lookup"><span data-stu-id="032cf-174">Manageability of this solution depends on authoring tools in use and engagement of source control.</span></span>

## <a name="next-steps"></a><span data-ttu-id="032cf-175">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="032cf-175">Next steps</span></span>

<span data-ttu-id="032cf-176">Para saber mais sobre os tópicos introduzidos neste artigo:</span><span class="sxs-lookup"><span data-stu-id="032cf-176">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="032cf-177">Consulte a documentação [do Azure Storage](/azure/storage/) and [Azure Functions.](/azure/azure-functions/)</span><span class="sxs-lookup"><span data-stu-id="032cf-177">See the [Azure Storage](/azure/storage/) and [Azure Functions](/azure/azure-functions/) documentation.</span></span> <span data-ttu-id="032cf-178">Este padrão faz uso pesado das contas de Armazenamento Azure e funções Azure tanto no Azure como no Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="032cf-178">This pattern makes heavy use of Azure Storage accounts and Azure Functions on both Azure and Azure Stack Hub.</span></span>
- <span data-ttu-id="032cf-179">Consulte [considerações de design de aplicações híbridas](overview-app-design-considerations.md) para saber mais sobre as melhores práticas e para obter respostas a perguntas adicionais.</span><span class="sxs-lookup"><span data-stu-id="032cf-179">See [Hybrid application design considerations](overview-app-design-considerations.md) to learn more about best practices and to get answers to additional questions.</span></span>
- <span data-ttu-id="032cf-180">Veja a [família de produtos e soluções Azure Stack](/azure-stack) para saber mais sobre todo o portfólio de produtos e soluções.</span><span class="sxs-lookup"><span data-stu-id="032cf-180">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="032cf-181">Quando estiver pronto para testar o exemplo da solução, continue com os [dados Tiered para guia de implementação de solução analítica](https://aka.ms/tiereddatadeploy).</span><span class="sxs-lookup"><span data-stu-id="032cf-181">When you're ready to test the solution example, continue with the [Tiered data for analytics solution deployment guide](https://aka.ms/tiereddatadeploy).</span></span> <span data-ttu-id="032cf-182">O guia de implantação fornece instruções passo a passo para a implantação e teste dos seus componentes.</span><span class="sxs-lookup"><span data-stu-id="032cf-182">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>
